<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Nasa API</title>
	<link rel="stylesheet" href="style.css">
</head>

<body>
	<div class="container"></div>
	<script>
		//Створення констант із об'єктом головного блоку та посиланням на API запит
		const parent = document.querySelector('.container');
		const url = 'https://api.nasa.gov/mars-photos/api/v1/rovers/curiosity/photos?earth_date=2015-6-3&api_key=THne0bmT5SY8sjLjsdVnCzv7Cs3yfou7qHyoCyRL';

		//запит за допомогою fetch та обробка після виконання .then
		const data = fetch(url).then((response) => response.json()).then((data) => {
			//Створення нового блоку
			const newBlock = document.createElement('div');
			newBlock.classList.add('block');

			//Створення контейнеру в новому блоці
			const newBlockBody = document.createElement('div');
			newBlockBody.classList.add('block__body')

			//Запис отриманого посилання на зображення
			let src = data.photos[1]['img_src'];

			//Створення заголовку за отриманими даними
			const title = document.createElement('h1');
			title.innerHTML = `Photo of Mars taken on <span class='important'>${data.photos[1]['camera']['full_name']}</span> by rover <span class='important'>'${data.photos[1]['rover']['name']}'</span>`;
			newBlock.append(title);

			//Створення блоку інформації за отриманими даними
			const information = document.createElement('div');
			information.innerHTML = `<p>Date: <span class='important'>${data.photos[1]['earth_date']}</span></p>
									<p>Photo ID: <span class='important'>${data.photos[1]['id']}</span></p>
									<p>Rover landing date: <span class='important'>${data.photos[1]['rover']['landing_date']}</span></p>
									<p>Rover status: <span class='important'>${data.photos[1]['rover']['status']}</span></p>`
			information.style.fontSize = '30px';
			newBlockBody.append(information);

			//Створення зображення
			const image = document.createElement('img');
			image.setAttribute('src', src);
			newBlockBody.append(image);

			//Додавання тіла в основний блок
			newBlock.append(newBlockBody);

			//Додавання тільки що створенного блоку до основного контейнера
			parent.append(newBlock);
		});
	</script>
</body>

</html>